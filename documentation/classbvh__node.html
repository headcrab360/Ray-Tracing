<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ray Tracing: bvh_node Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_ray.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ray Tracing
   </div>
   <div id="projectbrief">Ray Tracing algorithm implementation with many functions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classbvh__node-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">bvh_node Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Bounding Volume Hierarchies class implementation.  
 <a href="classbvh__node.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="bvh_8h_source.html">bvh.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for bvh_node:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classbvh__node.png" usemap="#bvh_5Fnode_map" alt=""/>
  <map id="bvh_5Fnode_map" name="bvh_5Fnode_map">
<area href="classhittable.html" title="Hittable object abstract class. It contains hit function, which is very important." alt="hittable" shape="rect" coords="0,0,68,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abbc4dcf5d747605ca80bcb10e838af2c"><td class="memItemLeft" align="right" valign="top"><a id="abbc4dcf5d747605ca80bcb10e838af2c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>bvh_node</b> (const <a class="el" href="classhittable__list.html">hittable_list</a> &amp;list, double time0, double time1)</td></tr>
<tr class="separator:abbc4dcf5d747605ca80bcb10e838af2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989fcda53a0ca8f0d156221a0294880e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbvh__node.html#a989fcda53a0ca8f0d156221a0294880e">bvh_node</a> (const std::vector&lt; shared_ptr&lt; <a class="el" href="classhittable.html">hittable</a> &gt;&gt; &amp;src_objects, size_t start, size_t end, double time0, double time1)</td></tr>
<tr class="memdesc:a989fcda53a0ca8f0d156221a0294880e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Splitting BVH Volumes.  <a href="classbvh__node.html#a989fcda53a0ca8f0d156221a0294880e">More...</a><br /></td></tr>
<tr class="separator:a989fcda53a0ca8f0d156221a0294880e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11aeb4680573e456cbb643b3c759ea2a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbvh__node.html#a11aeb4680573e456cbb643b3c759ea2a">hit</a> (const <a class="el" href="classray.html">ray</a> &amp;r, double t_min, double t_max, <a class="el" href="structhit__record.html">hit_record</a> &amp;rec) const override</td></tr>
<tr class="memdesc:a11aeb4680573e456cbb643b3c759ea2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether the box for the node is hit, and if so, check the children and sort out any details.  <a href="classbvh__node.html#a11aeb4680573e456cbb643b3c759ea2a">More...</a><br /></td></tr>
<tr class="separator:a11aeb4680573e456cbb643b3c759ea2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87ef97e516b5406d31c2f6a32e4b3fe"><td class="memItemLeft" align="right" valign="top"><a id="af87ef97e516b5406d31c2f6a32e4b3fe"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbvh__node.html#af87ef97e516b5406d31c2f6a32e4b3fe">bounding_box</a> (double time0, double time1, <a class="el" href="classaabb.html">aabb</a> &amp;output_box) const override</td></tr>
<tr class="memdesc:af87ef97e516b5406d31c2f6a32e4b3fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets box from the class. <br /></td></tr>
<tr class="separator:af87ef97e516b5406d31c2f6a32e4b3fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0f8375e7f7b40f5e85d7ac5fc0c1d331"><td class="memItemLeft" align="right" valign="top"><a id="a0f8375e7f7b40f5e85d7ac5fc0c1d331"></a>
shared_ptr&lt; <a class="el" href="classhittable.html">hittable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>left</b></td></tr>
<tr class="separator:a0f8375e7f7b40f5e85d7ac5fc0c1d331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af438ff585ad90acacdae8fe550ab5255"><td class="memItemLeft" align="right" valign="top"><a id="af438ff585ad90acacdae8fe550ab5255"></a>
shared_ptr&lt; <a class="el" href="classhittable.html">hittable</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>right</b></td></tr>
<tr class="separator:af438ff585ad90acacdae8fe550ab5255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ecacb4f197292c37716026c3fed99ef"><td class="memItemLeft" align="right" valign="top"><a id="a0ecacb4f197292c37716026c3fed99ef"></a>
<a class="el" href="classaabb.html">aabb</a>&#160;</td><td class="memItemRight" valign="bottom"><b>box</b></td></tr>
<tr class="separator:a0ecacb4f197292c37716026c3fed99ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Bounding Volume Hierarchies class implementation. </p>
<p>It’s really a container, but it can respond to the query “does this ray hit you?”. The children pointers are to generic hittables. They can be other bvh_nodes, or spheres, or any other hittable. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a989fcda53a0ca8f0d156221a0294880e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989fcda53a0ca8f0d156221a0294880e">&#9670;&nbsp;</a></span>bvh_node()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bvh_node::bvh_node </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; shared_ptr&lt; <a class="el" href="classhittable.html">hittable</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>src_objects</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Splitting BVH Volumes. </p>
<p>As the list of objects in a <a class="el" href="classbvh__node.html" title="Bounding Volume Hierarchies class implementation.">bvh_node</a> gets divided into two sub-lists, the hit function will work. At each node split the list along one axis. When the list coming in is two elements, function puts one in each subtree and end the recursion. The traversal algorithm should be smooth and not have to check for null pointers, so if I just have one element function duplicates it in each subtree. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a11aeb4680573e456cbb643b3c759ea2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11aeb4680573e456cbb643b3c759ea2a">&#9670;&nbsp;</a></span>hit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool bvh_node::hit </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classray.html">ray</a> &amp;&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhit__record.html">hit_record</a> &amp;&#160;</td>
          <td class="paramname"><em>rec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether the box for the node is hit, and if so, check the children and sort out any details. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>input ray </td></tr>
    <tr><td class="paramname">t_min</td><td>on minimum time </td></tr>
    <tr><td class="paramname">t_max</td><td>on maximum time </td></tr>
    <tr><td class="paramname">rec</td><td>struct with params </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classhittable.html">hittable</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Ray Tracing/<a class="el" href="bvh_8h_source.html">bvh.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
